import{a3 as Qe,aB as et,cw as O,cx as ne,cy as J,U as y,as as Re,bV as we,ay as tt,bb as nt,a5 as ot,W as rt,I as st,be as it,D as at,bu as ut,bo as lt,cz as _t,cA as ct,cs as ft,cB as Pt,cC as pt,cD as Et,cE as gt,cF as dt,cG as ht,cH as le,E as Ge,cI as De,cJ as Tt,cK as Mt,cL as St,cM as yt,cN as Ot,cO as Rt}from"./vendor.b8b0b9ef.js";let Pe,r=null;function Xe(){return!!r}function Nt(){return!!Qe("esri-wasm")}function be(){return Pe||(Pe=import("./pe-wasm.bbd7a0c0.js").then(e=>e.p).then(({default:e})=>e({locateFile:n=>et(`esri/geometry/support/${n}`)})).then(e=>{Ze(e)}),Pe)}var ge,T,de;(function(e){function n(i,u,s){r.ensureCache.prepare();const c=Y(s),_=s===c,l=r.ensureFloat64(c),f=r._pe_geog_to_proj(r.getPointer(i),u,l);return f&&F(s,u,l,_),f}function t(i,u,s,c){switch(c){case T.PE_TRANSFORM_P_TO_G:return o(i,u,s);case T.PE_TRANSFORM_G_TO_P:return n(i,u,s)}return 0}function o(i,u,s){return a(i,u,s,0)}function a(i,u,s,c){r.ensureCache.prepare();const _=Y(s),l=s===_,f=r.ensureFloat64(_),p=r._pe_proj_to_geog_center(r.getPointer(i),u,f,c);return p&&F(s,u,f,l),p}e.geogToProj=n,e.projGeog=t,e.projToGeog=o,e.projToGeogCenter=a})(ge||(ge={})),function(e){function n(){e.PE_BUFFER_MAX=r.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=r.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=r.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=r.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=r.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=r.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=r.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=r.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=r.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=r.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=r.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=r.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=r.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=r.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=r.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=r.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=r.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=r.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=r.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=r.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=r.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=r.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=r.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=r.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=r.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=r.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=r.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=r.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=r.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=r.PeDefs.prototype.PE_HORIZON_DELTA}e.init=n}(T||(T={})),function(e){const n={},t={},o=P=>{if(P){const E=P.getType();switch(E){case T.PE_TYPE_GEOGCS:P=r.castObject(P,r.PeGeogcs);break;case T.PE_TYPE_PROJCS:P=r.castObject(P,r.PeProjcs);break;case T.PE_TYPE_GEOGTRAN:P=r.castObject(P,r.PeGeogtran);break;default:E&T.PE_TYPE_UNIT&&(P=r.castObject(P,r.PeUnit))}}return P};function a(){r.PeFactory.prototype.initialize(null)}function i(P){return u(T.PE_TYPE_COORDSYS,P)}function u(P,E){let g=null,d=n[P];if(d||(d={},n[P]=d),d.hasOwnProperty(String(E)))g=d[E];else{const M=r.PeFactory.prototype.factoryByType(P,E);r.compare(M,r.NULL)||(g=M,d[E]=g)}return g=o(g),g}function s(P,E){let g=null,d=t[P];if(d||(d={},t[P]=d),d.hasOwnProperty(E))g=d[E];else{const M=r.PeFactory.prototype.fromString(P,E);r.compare(M,r.NULL)||(g=M,d[E]=g)}return g=o(g),g}function c(P){return u(T.PE_TYPE_GEOGCS,P)}function _(P){return u(T.PE_TYPE_GEOGTRAN,P)}function l(P){return r.PeFactory.prototype.getCode(P)}function f(P){return u(T.PE_TYPE_PROJCS,P)}function p(P){return u(T.PE_TYPE_UNIT,P)}e.initialize=a,e.coordsys=i,e.factoryByType=u,e.fromString=s,e.geogcs=c,e.geogtran=_,e.getCode=l,e.projcs=f,e.unit=p}(de||(de={}));let ze=null;var oe,he,Te,Me,re,Se,se,ie,ye;function Ze(e){function n(i,u,s){i[u]=s(i[u])}r=e,T.init(),oe.init(),re.init(),se.init(),ie.init(),ze=class extends r.PeGCSExtent{destroy(){r.destroy(this)}};const t=[r.PeDatum,r.PeGeogcs,r.PeGeogtran,r.PeObject,r.PeParameter,r.PePrimem,r.PeProjcs,r.PeSpheroid,r.PeUnit];for(const i of t)n(i.prototype,"getName",u=>function(){return u.call(this,new Array(T.PE_NAME_MAX))});for(const i of[r.PeGeogtran,r.PeProjcs])n(i.prototype,"getParameters",u=>function(){const s=new Array(T.PE_PARM_MAX);let c=u.call(this);for(let _=0;_<s.length;_++){const l=r.getValue(c,"*");s[_]=l?r.wrapPointer(l,r.PeParameter):null,c+=Int32Array.BYTES_PER_ELEMENT}return s});n(r.PeHorizon.prototype,"getCoord",i=>function(){const u=this.getSize();if(!u)return null;const s=[];return F(s,u,i.call(this)),s}),n(r.PeGTlistExtendedEntry.prototype,"getEntries",i=>{const u=r._pe_getPeGTlistExtendedGTsSize();return function(){let s=null;const c=i.call(this);if(!r.compare(c,r.NULL)){s=[c];const _=this.getSteps();if(_>1){const l=r.getPointer(c);for(let f=1;f<_;f++)s.push(r.wrapPointer(l+u*f,r.PeGTlistExtendedGTs))}}return s}});const o=r._pe_getPeHorizonSize(),a=i=>function(){let u=this._cache;if(u||(u=new Map,this._cache=u),u.has(i))return u.get(i);let s=null;const c=i.call(this);if(!r.compare(c,r.NULL)){s=[c];const _=c.getNump();if(_>1){const l=r.getPointer(c);for(let f=1;f<_;f++)s.push(r.wrapPointer(l+o*f,r.PeHorizon))}}return u.set(i,s),s};n(r.PeProjcs.prototype,"horizonGcsGenerate",a),n(r.PeProjcs.prototype,"horizonPcsGenerate",a),r.PeObject.prototype.toString=function(i=T.PE_STR_OPTS_NONE){r.ensureCache.prepare();const u=r.getPointer(this),s=r.ensureInt8(new Array(T.PE_BUFFER_MAX));return r.UTF8ToString(r._pe_object_to_string_ext(u,i,s))}}function I(e){if(!e)return;const n=r.getClass(e);if(!n)return;const t=r.getCache(n);if(!t)return;const o=r.getPointer(e);o&&delete t[o]}function Q(e,n){const t=[],o=new Array(n);for(let a=0;a<e;a++)t.push(r.ensureInt8(o));return t}function Y(e){let n;return Array.isArray(e[0])?(n=[],e.forEach(t=>{n.push(t[0],t[1])})):n=e,n}function F(e,n,t,o=!1){if(o)for(let a=0;a<2*n;a++)e[a]=r.getValue(t+a*Float64Array.BYTES_PER_ELEMENT,"double");else{const a=e.length===0;for(let i=0;i<n;i++)a&&(e[i]=new Array(2)),e[i][0]=r.getValue(t,"double"),e[i][1]=r.getValue(t+Float64Array.BYTES_PER_ELEMENT,"double"),t+=2*Float64Array.BYTES_PER_ELEMENT}}(function(e){let n;function t(){e.PE_GTLIST_OPTS_COMMON=r.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,n=r._pe_getPeGTlistExtendedEntrySize()}function o(a,i,u,s,c,_){let l=null;const f=new r.PeInteger(_);try{const p=r.PeGTlistExtended.prototype.getGTlist(a,i,u,s,c,f);if((_=f.val)&&(l=[p],_>1)){const P=r.getPointer(p);for(let E=1;E<_;E++)l.push(r.wrapPointer(P+n*E,r.PeGTlistExtendedEntry))}}finally{r.destroy(f)}return l}e.init=t,e.getGTlist=o})(oe||(oe={})),function(e){function n(t){if(t&&t.length){for(const o of t)I(o),o.getEntries().forEach(a=>{I(a);const i=a.getGeogtran();I(i),i.getParameters().forEach(I),[i.getGeogcs1(),i.getGeogcs2()].forEach(u=>{I(u);const s=u.getDatum();I(s),I(s.getSpheroid()),I(u.getPrimem()),I(u.getUnit())})});r.PeGTlistExtendedEntry.prototype.Delete(t[0])}}e.destroy=n}(he||(he={})),function(e){function n(t,o,a,i,u){r.ensureCache.prepare();const s=Y(a),c=a===s,_=r.ensureFloat64(s);let l=0;i&&(l=r.ensureFloat64(i));const f=r._pe_geog_to_geog(r.getPointer(t),o,_,l,u);return f&&F(a,o,_,c),f}e.geogToGeog=n}(Te||(Te={})),function(e){const n=(_,l,f,p,P,E)=>{let g,d;switch(r.ensureCache.prepare(),_){case"dd":g=r._pe_geog_to_dd,d=T.PE_DD_MAX;break;case"ddm":g=r._pe_geog_to_ddm,d=T.PE_DDM_MAX;break;case"dms":g=r._pe_geog_to_dms,d=T.PE_DMS_MAX}let M=0;l&&(M=r.getPointer(l));const w=Y(p),G=r.ensureFloat64(w),D=Q(f,d),A=g(M,f,G,P,r.ensureInt32(D));if(A)for(let R=0;R<f;R++)E[R]=r.UTF8ToString(D[R]);return A},t=(_,l,f,p,P)=>{let E;switch(r.ensureCache.prepare(),_){case"dd":E=r._pe_dd_to_geog;break;case"ddm":E=r._pe_ddm_to_geog;break;case"dms":E=r._pe_dms_to_geog}let g=0;l&&(g=r.getPointer(l));const d=p.map(D=>r.ensureString(D)),M=r.ensureInt32(d),w=r.ensureFloat64(new Array(2*f)),G=E(g,f,M,w);return G&&F(P,f,w),G};function o(_,l,f,p,P){return n("dms",_,l,f,p,P)}function a(_,l,f,p){return t("dms",_,l,f,p)}function i(_,l,f,p,P){return n("ddm",_,l,f,p,P)}function u(_,l,f,p){return t("ddm",_,l,f,p)}function s(_,l,f,p,P){return n("dd",_,l,f,p,P)}function c(_,l,f,p){return t("dd",_,l,f,p)}e.geog_to_dms=o,e.dms_to_geog=a,e.geog_to_ddm=i,e.ddm_to_geog=u,e.geog_to_dd=s,e.dd_to_geog=c}(Me||(Me={})),function(e){function n(){e.PE_MGRS_STYLE_NEW=r.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=r.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=r.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=r.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=r.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function t(a,i,u,s,c,_,l){r.ensureCache.prepare();let f=0;a&&(f=r.getPointer(a));const p=Y(u),P=r.ensureFloat64(p),E=Q(i,T.PE_MGRS_MAX),g=r.ensureInt32(E),d=r._pe_geog_to_mgrs_extended(f,i,P,s,c,_,g);if(d)for(let M=0;M<i;M++)l[M]=r.UTF8ToString(E[M]);return d}function o(a,i,u,s,c){r.ensureCache.prepare();let _=0;a&&(_=r.getPointer(a));const l=u.map(E=>r.ensureString(E)),f=r.ensureInt32(l),p=r.ensureFloat64(new Array(2*i)),P=r._pe_mgrs_to_geog_extended(_,i,f,s,p);return P&&F(c,i,p),P}e.init=n,e.geog_to_mgrs_extended=t,e.mgrs_to_geog_extended=o}(re||(re={})),function(e){function n(o,a,i,u,s,c,_){r.ensureCache.prepare();let l=0;o&&(l=r.getPointer(o));const f=Y(i),p=r.ensureFloat64(f),P=Q(a,T.PE_MGRS_MAX),E=r.ensureInt32(P),g=r._pe_geog_to_usng(l,a,p,u,s,c,E);if(g)for(let d=0;d<a;d++)_[d]=r.UTF8ToString(P[d]);return g}function t(o,a,i,u){r.ensureCache.prepare();let s=0;o&&(s=r.getPointer(o));const c=i.map(p=>r.ensureString(p)),_=r.ensureInt32(c),l=r.ensureFloat64(new Array(2*a)),f=r._pe_usng_to_geog(s,a,_,l);return f&&F(u,a,l),f}e.geog_to_usng=n,e.usng_to_geog=t}(Se||(Se={})),function(e){function n(){e.PE_UTM_OPTS_NONE=r.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=r.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=r.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function t(a,i,u,s,c){r.ensureCache.prepare();let _=0;a&&(_=r.getPointer(a));const l=Y(u),f=r.ensureFloat64(l),p=Q(i,T.PE_UTM_MAX),P=r.ensureInt32(p),E=r._pe_geog_to_utm(_,i,f,s,P);if(E)for(let g=0;g<i;g++)c[g]=r.UTF8ToString(p[g]);return E}function o(a,i,u,s,c){r.ensureCache.prepare();let _=0;a&&(_=r.getPointer(a));const l=u.map(E=>r.ensureString(E)),f=r.ensureInt32(l),p=r.ensureFloat64(new Array(2*i)),P=r._pe_utm_to_geog(_,i,f,s,p);return P&&F(c,i,p),P}e.init=n,e.geog_to_utm=t,e.utm_to_geog=o}(se||(se={})),function(e){const n=new Map;function t(){e.PE_PCSINFO_OPTION_NONE=r.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=r.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=r.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=r.PePCSInfo.prototype.PE_POLE_POINT}function o(a,i=e.PE_PCSINFO_OPTION_DOMAIN){let u,s;return n.has(a)&&(s=n.get(a),s[i]&&(u=s[i])),u||(u=r.PePCSInfo.prototype.generate(a,i),s||(s=[],n.set(a,s)),s[i]=u),u}e.init=t,e.generate=o}(ie||(ie={})),function(e){function n(){return r.PeVersion.prototype.version_string()}e.version_string=n}(ye||(ye={}));const mt=Object.freeze({__proto__:null,get _pe(){return r},isLoaded:Xe,isSupported:Nt,load:be,get PeCSTransformations(){return ge},get PeDefs(){return T},get PeFactory(){return de},get PeGCSExtent(){return ze},get PeGTlistExtended(){return oe},get PeGTlistExtendedEntry(){return he},get PeGTTransformations(){return Te},get PeNotationDms(){return Me},get PeNotationMgrs(){return re},get PeNotationUsng(){return Se},get PeNotationUtm(){return se},get PePCSInfo(){return ie},get PeVersion(){return ye},_init:Ze}),C=O.radius,N=O.eccentricitySquared,At={a1:C*N,a2:C*N*C*N,a3:C*N*N/2,a4:C*N*C*N*2.5,a5:C*N+C*N*N/2,a6:1-N};1/294.9786982,1/298.257222101,O.radius,O.flattening,ne.radius,ne.flattening,1/192.0430107526882,J.radius,J.flattening,1/10.2079945799458,1/43.61604095563141,J.radius;let ee=0;class H{constructor(n=null){this.uid=ee++,n?(this._wkt=n.wkt!==void 0?n.wkt:null,this._wkid=n.wkid!==void 0?n.wkid:-1,this._isInverse=n.isInverse!==void 0&&n.isInverse===!0):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}static fromGE(n){const t=new H;return t._wkt=n.wkt,t._wkid=n.wkid,t._isInverse=n.isInverse,t}get wkt(){return this._wkt}set wkt(n){this._wkt=n,this.uid=ee++}get wkid(){return this._wkid}set wkid(n){this._wkid=n,this.uid=ee++}get isInverse(){return this._isInverse}set isInverse(n){this._isInverse=n,this.uid=ee++}getInverse(){const n=new H;return n._wkt=this.wkt,n._wkid=this._wkid,n._isInverse=!this.isInverse,n}}class x{constructor(n){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,n&&n.steps)for(const t of n.steps)t instanceof H?this.steps.push(t):this.steps.push(new H({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}static cacheKey(n,t){return[n.wkid!==void 0&&n.wkid!==null?n.wkid.toString():"-1",n.wkt!==void 0&&n.wkt!==null?n.wkt.toString():"",t.wkid!==void 0&&t.wkid!==null?t.wkid.toString():"-1",t.wkt!==void 0&&t.wkt!==null?t.wkt.toString():""].join(",")}static fromGE(n){const t=new x;let o="";for(const a of n.steps){const i=H.fromGE(a);t.steps.push(i),o+=i.uid.toString()+","}return t._cached_projection={},t._gtlistentry=null,t._chain=o,t}getInverse(){const n=new x;n.steps=[];for(let t=this.steps.length-1;t>=0;t--){const o=this.steps[t];n.steps.push(o.getInverse())}return n}getGTListEntry(){let n="";for(const t of this.steps)n+=t.uid.toString()+",";return n!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=n),this._gtlistentry}assignCachedGe(n,t,o){this._cached_projection[x.cacheKey(n,t)]=o}getCachedGeTransformation(n,t){let o="";for(const i of this.steps)o+=i.uid.toString()+",";o!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=o);const a=this._cached_projection[x.cacheKey(n,t)];return a===void 0?null:a}}let z=null,ae=null,pe=null,Ee={};function It(){return!!z&&Xe()}function Ce(e){return y(pe)&&(pe=Promise.all([be(),import("./geometryEngineBase.fd888c07.js").then(n=>n.g),import("./hydrated.4afa2b7d.js")])),pe.then(([,n,{hydratedAdapter:t}])=>{ut(e),ae=t,z=n.default,z._enableProjection(mt)})}function en(e,n,t=null){return Array.isArray(e)?e.length===0?[]:ke(ae,e,e[0].spatialReference,n,t):ke(ae,[e],e.spatialReference,n,t)[0]}function ke(e,n,t,o,a=null){if(y(t)||y(o))return n;if(Oe(t,o,a))return n.map(i=>tt(Gt(i,t,o)));if(y(a)){const i=x.cacheKey(t,o);Ee[i]!==void 0?a=Ee[i]:(a=wt(t,o,null),y(a)&&(a=new x),Ee[i]=a)}if(y(z))throw new He;return z._project(e,n,t,o,a)}function wt(e,n,t=null){if(y(z))throw new He;if(y(e)||y(n))return null;const o=z._getTransformation(ae,e,n,t,t==null?void 0:t.spatialReference);return o!==null?x.fromGE(o):null}class He extends at{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function Oe(e,n,t){return!t&&(!!Re(e,n)||we(e)&&we(n)&&!!Je(e,n,We))}async function tn(e,n,t,o){if(!It()){if(Array.isArray(e)){for(const{source:a,dest:i,geographicTransformation:u}of e)if(!Oe(a,i,u))return Ce(o)}else if(!Oe(e,n,t))return Ce(o)}}function Gt(e,n,t){return e?"x"in e?Dt(e,n,new nt,t,0):"xmin"in e?Ut(e,n,new ot,t,0):"rings"in e?Be(e,n,new rt,t,0):"paths"in e?kt(e,n,new st,t,0):"points"in e?Ct(e,n,new it,t,0):null:null}function Dt(e,n,t,o,a){S[0]=e.x,S[1]=e.y;const i=e.z;return S[2]=i!==void 0?i:a,W(S,n,0,S,o,0,1)?(t.x=S[0],t.y=S[1],t.spatialReference=o,i===void 0?(t.z=void 0,t.hasZ=!1):(t.z=S[2],t.hasZ=!0),e.m===void 0?(t.m=void 0,t.hasM=!1):(t.m=e.m,t.hasM=!0),t):null}function Ct(e,n,t,o,a){const{points:i,hasZ:u,hasM:s}=e,c=[],_=i.length,l=[];for(const f of i)l.push(f[0],f[1],u?f[2]:a);if(!W(l,n,0,l,o,0,_))return null;for(let f=0;f<_;++f){const p=3*f,P=l[p],E=l[p+1];u&&s?c.push([P,E,l[p+2],i[f][3]]):u?c.push([P,E,l[p+2]]):s?c.push([P,E,i[f][2]]):c.push([P,E])}return t.points=c,t.spatialReference=o,t.hasZ=u,t.hasM=s,t}function kt(e,n,t,o,a){const{paths:i,hasZ:u,hasM:s}=e,c=[];return qe(i,u,s,n,c,o,a)?(t.paths=c,t.spatialReference=o,t.hasZ=u,t.hasM=s,t):null}function nn(e,n,t=n.spatialReference,o=0){return Ge(t)&&Ge(Be(e,e.spatialReference,n,t,o))}function Be(e,n,t,o,a){const{rings:i,hasZ:u,hasM:s}=e,c=[];return qe(i,u,s,n,c,o,a)?(t.rings=c,t.spatialReference=o,t.hasZ=u,t.hasM=s,t):null}function Ut(e,n,t,o,a){const{xmin:i,ymin:u,xmax:s,ymax:c,hasZ:_,hasM:l}=e;return Ue(i,u,_?e.zmin:a,n,S,o)?(t.xmin=S[0],t.ymin=S[1],_&&(t.zmin=S[2]),Ue(s,c,_?e.zmax:a,n,S,o)?(t.xmax=S[0],t.ymax=S[1],_&&(t.zmax=S[2]),l&&(t.mmin=e.mmin,t.mmax=e.mmax),t.spatialReference=o,t):null):null}function on(e,n,t,o=0){S[0]=e.x,S[1]=e.y;const a=e.z;return S[2]=a!==void 0?a:o,W(S,e.spatialReference,0,n,t,0,1)}function Ue(e,n,t,o,a,i){return te[0]=e,te[1]=n,te[2]=t,W(te,o,0,a,i,0,1)}function W(e,n,t,o,a,i,u=1){const s=Je(n,a,We);if(y(s))return!1;if(s===h){if(e===o&&t===i)return!0;const _=t+3*u;for(let l=t,f=i;l<_;l++,f++)o[f]=e[l];return!0}const c=t+3*u;for(let _=t,l=i;_<c;_+=3,l+=3)s(e,_,o,l);return!0}function qe(e,n,t,o,a,i,u=0){const s=new Array;for(const _ of e)for(const l of _)s.push(l[0],l[1],n?l[2]:u);if(!W(s,o,0,s,i,0,s.length/3))return!1;let c=0;a.length=0;for(const _ of e){const l=new Array;for(const f of _)n&&t?l.push([s[c++],s[c++],s[c++],f[3]]):n?l.push([s[c++],s[c++],s[c++]]):t?(l.push([s[c++],s[c++],f[2]]),c++):(l.push([s[c++],s[c++]]),c++);a.push(l)}return!0}function rn(e,n,t,o){if(y(e)||y(o))return!1;const a=ue(e,Kt),i=ue(o,Wt);if(a===i&&!Fe(i)&&(a!==0||Re(e,o)))return De(t),Tt(t,t,n),!0;if(Fe(i)){const u=V[a][11],s=V[11][i];return!y(u)&&!y(s)&&(u(n,0,k,0),s(k,0,U,0),Ve(m*k[0],m*k[1],t),t[12]=U[0],t[13]=U[1],t[14]=U[2],!0)}if(!(i!==3&&i!==12||a!==2&&a!==1&&a!==3)){const u=V[a][11],s=V[11][i];return!y(u)&&!y(s)&&(u(n,0,k,0),s(k,0,U,0),a===1?Ft(m*k[0],m*k[1],t):De(t),t[12]=U[0],t[13]=U[1],t[14]=U[2],!0)}return!1}function Fe(e){return e===1||e===7||e===9}function Ve(e,n,t){const o=Math.sin(e),a=Math.cos(e),i=Math.sin(n),u=Math.cos(n),s=t;return s[0]=-o,s[4]=-i*a,s[8]=u*a,s[12]=0,s[1]=a,s[5]=-i*o,s[9]=u*o,s[13]=0,s[2]=0,s[6]=u,s[10]=i,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function Ft(e,n,t){return Ve(e,n,t),Mt(t,t),t}function ue(e,n){return n.spatialReference===e?n.spatialReferenceId:(n.spatialReference=e,"metersPerUnit"in n&&(n.metersPerUnit=lt(e,1)),e.wkt===_t.wkt?n.spatialReferenceId=1:ct(e)?n.spatialReferenceId=2:ft(e)?n.spatialReferenceId=3:Pt(e)?n.spatialReferenceId=12:e.wkt===pt.wkt?n.spatialReferenceId=4:e.wkid===4490?n.spatialReferenceId=5:e.wkt===Et.wkt?n.spatialReferenceId=7:e.wkt===gt.wkt?n.spatialReferenceId=9:dt(e)?n.spatialReferenceId=8:ht(e)?n.spatialReferenceId=10:n.spatialReferenceId=0)}function h(e,n,t,o){e!==t&&(t[o++]=e[n++],t[o++]=e[n++],t[o]=e[n])}function B(e,n,t,o){t[o++]=q*(e[n++]/O.radius),t[o++]=q*(Math.PI/2-2*Math.atan(Math.exp(-e[n++]/O.radius))),t[o]=e[n]}function xt(e,n,t,o){B(e,n,t,o),v(t,o,t,o)}function Yt(e,n,t,o){B(e,n,t,o),X(t,o,t,o)}function jt(e,n,t,o,a){const i=.4999999*Math.PI,u=Ot(m*e[n+1],-i,i),s=Math.sin(u);t[o++]=m*e[n]*a.radius,t[o++]=a.halfSemiMajorAxis*Math.log((1+s)/(1-s)),t[o]=e[n+2]}function K(e,n,t,o){jt(e,n,t,o,O)}const xe=O.radius*Math.PI/180,Ye=180/(O.radius*Math.PI);function j(e,n,t,o){t[o]=e[n]*xe,t[o+1]=e[n+1]*xe,t[o+2]=e[n+2]}function L(e,n,t,o){t[o]=e[n]*Ye,t[o+1]=e[n+1]*Ye,t[o+2]=e[n+2]}function Lt(e,n,t,o){B(e,n,t,o),j(t,o,t,o)}function vt(e,n,t,o){b(e,n,t,o),j(t,o,t,o)}function $t(e,n,t,o){$(e,n,t,o),j(t,o,t,o)}function Xt(e,n,t,o){L(e,n,t,o),v(t,o,t,o)}function bt(e,n,t,o){L(e,n,t,o),K(t,o,t,o)}function zt(e,n,t,o){L(e,n,t,o),X(t,o,t,o)}function Ne(e,n,t,o,a){const i=a+e[n+2],u=m*e[n+1],s=m*e[n],c=Math.cos(u);t[o++]=Math.cos(s)*c*i,t[o++]=Math.sin(s)*c*i,t[o]=Math.sin(u)*i}function je(e,n,t,o){Ne(e,n,t,o,ne.radius)}function Le(e,n,t,o){Ne(e,n,t,o,J.radius)}function v(e,n,t,o){Ne(e,n,t,o,O.radius)}function me(e,n,t,o,a){const i=e[n],u=e[n+1],s=e[n+2],c=Math.sqrt(i*i+u*u+s*s),_=Rt(s/(c===0?1:c)),l=Math.atan2(u,i);t[o++]=q*l,t[o++]=q*_,t[o]=c-a}function ve(e,n,t,o){me(e,n,t,o,ne.radius)}function $e(e,n,t,o){me(e,n,t,o,J.radius)}function $(e,n,t,o){me(e,n,t,o,O.radius)}function Zt(e,n,t,o){$(e,n,t,o),K(t,o,t,o)}function Ht(e,n,t,o){$(e,n,t,o),X(t,o,t,o)}function Bt(e,n,t,o,a){const i=m*e[n],u=m*e[n+1],s=e[n+2],c=Math.sin(u),_=Math.cos(u),l=a.radius/Math.sqrt(1-a.eccentricitySquared*c*c);t[o++]=(l+s)*_*Math.cos(i),t[o++]=(l+s)*_*Math.sin(i),t[o++]=(l*(1-a.eccentricitySquared)+s)*c}function X(e,n,t,o){Bt(e,n,t,o,O)}function b(e,n,t,o){const a=At,i=e[n],u=e[n+1],s=e[n+2];let c,_,l,f,p,P,E,g,d,M,w,G,D,A,R,_e,ce,fe,Z,Ae,Ie;c=Math.abs(s),_=i*i+u*u,l=Math.sqrt(_),f=_+s*s,p=Math.sqrt(f),Ae=Math.atan2(u,i),P=s*s/f,E=_/f,A=a.a2/p,R=a.a3-a.a4/p,E>.3?(g=c/p*(1+E*(a.a1+A+P*R)/p),Z=Math.asin(g),M=g*g,d=Math.sqrt(1-M)):(d=l/p*(1-P*(a.a5-A-E*R)/p),Z=Math.acos(d),M=1-d*d,g=Math.sqrt(M)),w=1-O.eccentricitySquared*M,G=O.radius/Math.sqrt(w),D=a.a6*G,A=l-G*d,R=c-D*g,ce=d*A+g*R,_e=d*R-g*A,fe=_e/(D/w+ce),Z+=fe,Ie=ce+_e*fe/2,s<0&&(Z=-Z),t[o++]=q*Ae,t[o++]=q*Z,t[o]=Ie}function qt(e,n,t,o){b(e,n,t,o),v(t,o,t,o)}function Vt(e,n,t,o){b(e,n,t,o),K(t,o,t,o)}const V={2:{5:null,8:null,10:null,11:h,6:h,1:v,7:null,9:null,0:null,3:K,12:j,2:h,4:X},5:{5:h,8:null,10:null,11:h,6:h,1:v,7:null,9:null,0:null,3:null,12:j,2:null,4:X},8:{5:null,8:h,10:null,11:h,6:null,1:null,7:Le,9:null,0:null,3:null,12:null,2:null,4:null},10:{5:null,8:null,10:h,11:h,6:null,1:null,7:null,9:je,0:null,3:null,12:null,2:null,4:null},3:{5:null,8:null,10:null,11:B,6:B,1:xt,7:null,9:null,0:null,3:h,12:Lt,2:B,4:Yt},4:{5:b,8:null,10:null,11:b,6:b,1:qt,7:null,9:null,0:null,3:Vt,12:vt,2:b,4:h},1:{5:$,8:null,10:null,11:$,6:$,1:h,7:null,9:null,0:null,3:Zt,12:$t,2:$,4:Ht},7:{5:null,8:$e,10:null,11:$e,6:null,1:null,7:h,9:null,0:null,3:null,12:null,2:null,4:null},9:{5:null,8:null,10:ve,11:ve,6:null,1:null,7:null,9:h,0:null,3:null,12:null,2:null,4:null},0:{5:null,8:null,10:null,11:null,6:null,1:null,7:null,9:null,0:h,3:null,12:null,2:null,4:null},11:{5:h,8:h,10:h,11:h,6:h,1:v,7:Le,9:je,0:null,3:K,12:j,2:h,4:X},6:{5:null,8:null,10:null,11:h,6:h,1:v,7:null,9:null,0:null,3:null,12:j,2:h,4:X},12:{5:L,8:null,10:null,11:L,6:L,1:Xt,7:null,9:null,0:null,3:bt,12:h,2:L,4:zt}};function Je(e,n,t=Ke()){return y(e)||y(n)?null:Jt(e,n,t).projector}function Jt(e,n,t){if(y(e)||y(n)||t.source.spatialReference===e&&t.dest.spatialReference===n)return t;const o=ue(e,t.source),a=ue(n,t.dest);return o===0&&a===0?Re(e,n)?t.projector=h:t.projector=null:t.projector=V[o][a],t}function Ke(){return{source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:h}}const Kt={spatialReference:null,spatialReferenceId:0},Wt={spatialReference:null,spatialReferenceId:0},We=Ke(),m=St(1),q=yt(1),te=le(),k=le(),U=le(),S=le();export{W as C,It as J,Ce as O,en as Q,ke as Y,nn as d,on as g,Oe as l,rn as q,x as s,tn as u};
