var ee=Object.defineProperty,te=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var q=(s,e,o)=>e in s?ee(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,M=(s,e)=>{for(var o in e||(e={}))A.call(e,o)&&q(s,o,e[o]);if(O)for(var o of O(e))E.call(e,o)&&q(s,o,e[o]);return s},V=(s,e)=>te(s,se(e));var G=(s,e)=>{var o={};for(var c in s)A.call(s,c)&&e.indexOf(c)<0&&(o[c]=s[c]);if(s!=null&&O)for(var c of O(s))e.indexOf(c)<0&&E.call(s,c)&&(o[c]=s[c]);return o};var u=(s,e,o)=>(q(s,typeof e!="symbol"?e+"":e,o),o);import{r as S,c as f,a as ne,G as oe,d as $,u as Q,b as R,o as i,e as r,f as t,g as n,t as l,h as g,w,i as y,j as _,F as B,k as F,l as H,m as ae,v as ie,n as re,p as ce,q as D,s as I,x as le,y as K,z as de,A as ue,B as he}from"./vendor.b8b0b9ef.js";const _e=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function o(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerpolicy&&(a.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?a.credentials="include":d.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function c(d){if(d.ep)return;d.ep=!0;const a=o(d);fetch(d.href,a)}};_e();class C{constructor({attributes:e,geometry:o}){u(this,"id");u(this,"cipNumber");u(this,"name");u(this,"projectType");u(this,"category");u(this,"phase");u(this,"community");u(this,"district");u(this,"planningDate");u(this,"phaseGraphic");u(this,"factSheet");u(this,"designDate");u(this,"constructionStart");u(this,"constructionEnd");u(this,"descriptionOne");u(this,"descriptionTwo");u(this,"objectiveOne");u(this,"objectiveTwo");u(this,"objectiveThree");u(this,"objectiveFour");u(this,"projectBudget");u(this,"planningBudget");u(this,"designBudget");u(this,"constructionBudget");u(this,"lastEditedDate");u(this,"geometry");this.id=e.OBJECTID,this.cipNumber=e.CIP_Number,this.name=e.ProjectName,this.projectType=e.Project_Type,this.category=e.Major_Category,this.phase=e.Current_Phase,this.community=e.Community,this.district=e.Commisioner_District,this.planningDate=e.PlanningDate,this.factSheet=e.thumb_url,this.designDate=e.DesignDate,this.constructionStart=e.Constr_Start,this.constructionEnd=e.Constr_End,this.descriptionOne=e.DESC1,this.descriptionTwo=e.DESC2,this.objectiveOne=e.Obj1,this.objectiveTwo=e.Obj2,this.objectiveThree=e.Obj3,this.objectiveFour=e.Obj4,this.phaseGraphic=e.PhaseGraphic,this.projectBudget=C.currency(e.Project_Budget),this.planningBudget=C.currency(e.PlanningBudget),this.designBudget=C.currency(e.DesignBudget),this.constructionBudget=C.currency(e.Constr_Budget),this.lastEditedDate=new Date(e.last_edited_date),this.geometry=o==null?void 0:o.toJSON()}static currency(e){const o=e==null?void 0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return e?`$${o}`:void 0}get path(){return`/${this.id}`}}const p=S({count:0,page:1,resultRecordCount:50}),pe=f(()=>(p.page-1)*p.resultRecordCount),z=f(()=>Math.ceil(p.count/p.resultRecordCount)),me=f(()=>p.count>p.resultRecordCount),x=ne("");var T=(s=>(s.type="Project_Type",s.category="Major_Category",s.phase="Current_Phase",s.community="Community",s))(T||{});const P=S({type:"",category:"",phase:"",community:""}),U="Current_Phase <> 'Completed'",fe=f(()=>[ge.value,U,ye.value].filter(Boolean).join(" AND ")),ge=f(()=>x.value?`(${["ProjectName","CIP_Number"].map(e=>`${e} LIKE '%${x.value}%'`).join(" OR ")})`:null),ye=f(()=>{let s=[],e;for(e in P)!P[e]||s.push(`${T[e]} = '${P[e]}'`);return s.join(" AND ")});var W=(s=>(s.name="ProjectName",s.type="Project_Type",s.phase="Current_Phase",s.community="Community",s))(W||{});const b=S({field:"name",ascending:!0});function ve(s){b.ascending=s===b.field?!b.ascending:!0,b.field=s,Y()}const be=f(()=>[`${W[b.field]} ${b.ascending?"ASC":"DESC"}`]),L=new oe({url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/CIP/CIP_Layers/FeatureServer/2"}),J=f(()=>({outFields:["*"],orderByFields:be.value,where:fe.value,num:p.resultRecordCount,start:pe.value})),j=S({loading:!1,error:"",data:null});async function Y(){j.loading=!0;try{const[{features:s},e]=await Promise.all([L.queryFeatures(J.value),L.queryFeatureCount(J.value)]);p.count=e,j.data=s.map(o=>new C(o))}catch(s){j.error="An error occurred",console.warn(s)}finally{j.loading=!1}}async function X(s,e){var m;const h=s.query,{page:o,q:c}=h,d=G(h,["page","q"]);p.page=o?parseInt(Array.isArray(o)?o==null?void 0:o[0]:o):1,x.value=(c==null?void 0:c.toString())||"";let a;for(a in P)P[a]=((m=d[a])==null?void 0:m.toString())||"";Y()}const k=S({loading:!1,data:void 0});async function Z(s,e){k.data=void 0,k.loading=!0;try{const{id:o}=s.params,{features:[c]}=await L.queryFeatures({where:`OBJECTID = '${o}'`,outFields:["*"]});k.data=new C(c)}catch{}finally{k.loading=!1}}const $e={"aria-label":"breadcrumb",class:"bg-light"},Ce={class:"breadcrumb p-2"},je={key:0,class:"breadcrumb-item active","aria-current":"page"},ke={key:1,class:"breadcrumb-item"},we={key:2,class:"breadcrumb-item active","aria-current":"page"},xe=$({setup(s){const e=Q(),o=f(()=>e.name==="Index"),c="Capital Improvement Projects";return(d,a)=>{var m,v;const h=R("router-link");return i(),r("nav",$e,[t("ol",Ce,[n(o)?(i(),r("li",je,l(c))):(i(),r("li",ke,[g(h,{to:"/"},{default:w(()=>[y(l(c))]),_:1})])),n(o)?_("",!0):(i(),r("li",we,l((v=(m=n(k))==null?void 0:m.data)==null?void 0:v.name),1))])])}}}),Pe=$({setup(s){return(e,o)=>{const c=R("router-view");return i(),r(B,null,[g(xe),g(c)],64)}}});const Be={class:"my-1"},Se=["for"],De={key:0},Te=y(" Loading Filter... "),Oe=t("i",{class:"fas fa-spinner fa-pulse"},null,-1),Ne=[Te,Oe],Le=["name","value","id"],Fe=t("option",{value:""},"-",-1),qe=$({props:{field:null},setup(s){const e=s,o=S({loading:!1,data:[]});return(async()=>{o.loading=!0;const d={outFields:[T[e.field]],returnDistinctValues:!0,where:U};try{const{features:a}=await L.queryFeatures(d);o.data=a==null?void 0:a.map(h=>h.attributes[T[e.field]])}catch{}finally{o.loading=!1}})(),(d,a)=>(i(),r("div",Be,[t("label",{class:"mr-sm-1 mb-1 text-capitalize",for:s.field},l(s.field),9,Se),n(o).loading?(i(),r("div",De,Ne)):(i(),r("select",{key:1,class:"form-control form-control-sm mr-sm-2",name:s.field,value:n(P)[s.field],id:s.field},[Fe,(i(!0),r(B,null,F(n(o).data,(h,m)=>(i(),r("option",null,l(h),1))),256))],8,Le))]))}}),Ie=["onSubmit"],Re={class:"input-group input-group-lg mb-3"},Ae=t("label",{class:"visually-hidden",for:"searchTerm"},"Search Projects",-1),Ee=t("button",{class:"btn btn-outline-secondary",type:"submit"},"Search",-1),Me={class:"accordion",id:"advancedSearch"},Ve={class:"accordion-item"},Ge=t("h2",{class:"accordion-header",id:"headingOne"},[t("button",{class:"accordion-button collapsed px-3 py-2",type:"button","data-bs-toggle":"collapse","data-bs-target":"#advancedSearchBody","aria-controls":"advancedSearchBody"}," Advanced Search ")],-1),ze={id:"advancedSearchBody",class:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#advancedSearch"},Je={class:"accordion-body"},Qe=t("div",{class:"d-grid gap-2 d-md-flex justify-content-md-end"},[t("button",{type:"reset",class:"btn btn-warning btn-sm"},"Reset"),t("button",{type:"submit",class:"btn btn-secondary btn-sm"}," Search ")],-1),He=$({setup(s){const e=H(),o=c=>{const d=new FormData(c.target);let a={};for(const[h,m]of d.entries())a[h]=m.toString();e.push({path:"/",query:a})};return(c,d)=>(i(),r("form",{onSubmit:D(o,["prevent"]),class:"mb-3"},[t("div",Re,[Ae,ae(t("input",{"onUpdate:modelValue":d[0]||(d[0]=a=>re(x)?x.value=a:null),name:"q",type:"text",id:"searchTerm",class:"form-control",placeholder:"Search Projects","aria-label":"Search Projects"},null,512),[[ie,n(x)]]),Ee]),t("div",Me,[t("div",Ve,[Ge,t("div",ze,[t("div",Je,[(i(!0),r(B,null,F(n(T),(a,h)=>(i(),ce(qe,{field:h},null,8,["field"]))),256)),Qe])])])])],40,Ie))}}),Ke={key:0,"aria-label":"Page navigation example",class:"my-3 text-center"},Ue={class:"pagination justify-content-center flex-wrap"},We=["onClick"],Ye=$({setup(s){const e=H(),o=Q(),c=f(()=>p.page===1),d=f(()=>p.page+1>z.value),a=h=>{e.push({path:"/",query:V(M({},o.query),{page:h})})};return(h,m)=>n(me)?(i(),r("nav",Ke,[t("ul",Ue,[t("li",{class:I(["page-item",{disabled:n(c)}])},[t("a",{class:"page-link",href:"#",onClick:m[0]||(m[0]=D(v=>a(n(p).page-1),["prevent"]))}," Previous ")],2),(i(!0),r(B,null,F(n(z),(v,is)=>(i(),r("li",{class:I(["page-item",v==n(p).page?"active":null])},[t("a",{class:"page-link",href:"#",onClick:D(rs=>a(v),["prevent"])},l(v),9,We)],2))),256)),t("li",{class:I(["page-item",{disabled:n(d)}])},[t("a",{class:"page-link",href:"#",onClick:m[1]||(m[1]=D(v=>a(n(p).page+1),["prevent"]))}," Next ")],2)])])):_("",!0)}}),Xe={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},Ze={key:0,"fill-rule":"evenodd",d:"M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"},et={key:1,"fill-rule":"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"},N=$({props:{field:null},setup(s){return(e,o)=>(i(),r("th",null,[t("a",{href:"#",onClick:o[0]||(o[0]=D(c=>n(ve)(s.field),["prevent"])),class:"text-secondary d-flex justify-content-between align-items-center"},[t("span",null,[le(e.$slots,"default")]),n(b).field===s.field?(i(),r("svg",Xe,[n(b).ascending?(i(),r("path",Ze)):(i(),r("path",et))])):_("",!0)])]))}}),tt={key:0,class:"text-center"},st=t("div",{class:"spinner-border",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1),nt=[st],ot={key:1,class:"table-responsive"},at={class:"table table-striped mb-0"},it=y("Project"),rt=y("Type"),ct=y("Phase"),lt=y("Community"),dt=t("br",null,null,-1),ut={class:"text-muted"},ht={class:"small text-muted"},_t={class:"small text-muted"},pt={class:"small text-muted"},mt={key:2,class:"bg-light text-center text-muted p-5"},ft=t("p",{class:"h4 font-weight-bold m-0"},"No Results",-1),gt=t("p",{class:"m-0"},[t("span",{class:"fas fa-search fa-2x mt-3","aria-hidden":"true"})],-1),yt=[ft,gt],vt=$({setup(s){return K(X),(e,o)=>{var d;const c=R("router-link");return i(),r(B,null,[g(He),n(j).loading?(i(),r("div",tt,nt)):(d=n(j).data)!=null&&d.length?(i(),r("div",ot,[t("table",at,[t("thead",null,[t("tr",null,[g(N,{field:"name"},{default:w(()=>[it]),_:1}),g(N,{field:"type"},{default:w(()=>[rt]),_:1}),g(N,{field:"phase"},{default:w(()=>[ct]),_:1}),g(N,{field:"community"},{default:w(()=>[lt]),_:1})])]),t("tbody",null,[(i(!0),r(B,null,F(n(j).data,a=>(i(),r("tr",null,[t("td",null,[g(c,{to:a.path},{default:w(()=>[y(l(a.name),1)]),_:2},1032,["to"]),dt,t("small",ut," #"+l(a.cipNumber),1)]),t("td",ht,l(a.projectType)+" - "+l(a.category),1),t("td",_t,l(a.phase),1),t("td",pt,l(a.community)+" - "+l(a.district),1)]))),256))])])])):(i(),r("div",mt,yt)),g(Ye)],64)}}}),bt={key:0},$t={key:1},Ct={class:"mb-0 font-weight-bold"},jt={class:"mb-0 text-secondary font-weight-bold"},kt=t("hr",null,null,-1),wt={id:"project-facts"},xt={class:"row align-items-center"},Pt={class:"col-md-6"},Bt=t("h3",null,"Quick Facts",-1),St=["href"],Dt={class:"col-md-6"},Tt=["src","alt"],Ot={class:"row"},Nt={class:"col-md-6"},Lt=t("h3",null,"Schedule",-1),Ft={key:0,class:"col-md-6"},qt=t("h3",null,"Budget Breakdown",-1),It={key:0},Rt={key:1},At={key:2},Et={class:""},Mt=t("h3",null,"Overview",-1),Vt={key:0},Gt={key:1},zt={class:"row"},Jt={class:"col-md-12"},Qt=t("h3",null,"Objectives",-1),Ht={key:0},Kt={key:1},Ut={key:2},Wt={key:3},Yt=t("div",{class:""},[t("h4",null,"Questions?"),t("p",null,[y(" For more information about this project please contact (813) 635-5400 or visit "),t("a",{href:"https://hcflgov.net/atyourservice",target:"_blank"},"At Your Service")])],-1),Xt=t("p",{class:"small font-italic"}," Note: The cost and schedule data shown here are the County's current best estimates and are subject to frequent change. Changes (if any) are updated once a month. ",-1),Zt=t("hr",null,null,-1),es={class:"d-flex justify-content-end align-items-end"},ts={class:""},ss=y(" Current as of "),ns=$({setup(s){const e=f(()=>k.data);return K(Z),(o,c)=>n(k).loading?(i(),r("div",bt,"Loading...")):n(e)?(i(),r("div",$t,[t("h1",Ct,l(n(e).name),1),t("h2",jt," #"+l(n(e).cipNumber),1),kt,t("div",wt,[t("div",xt,[t("div",Pt,[Bt,n(e).factSheet?(i(),r("a",{key:0,href:n(e).factSheet,target:"_blank"}," Printable Fact Sheet ",8,St)):_("",!0),t("ul",null,[t("li",null,"Location: "+l(n(e).community),1),t("li",null,"Project Type: "+l(n(e).projectType),1),t("li",null,"Phase: "+l(n(e).phase),1)])]),t("div",Dt,[n(e).phaseGraphic?(i(),r("img",{key:0,src:n(e).phaseGraphic,alt:`Current Project Phase: ${n(e).phase}`,class:"img-fluid img-responsive my-3"},null,8,Tt)):_("",!0)])]),t("div",Ot,[t("div",Nt,[Lt,t("ul",null,[t("li",null,"Planning complete: "+l(n(e).planningDate),1),t("li",null,"Design complete: "+l(n(e).designDate),1),t("li",null,"Construction begins: "+l(n(e).constructionStart),1),t("li",null,"Construction complete: "+l(n(e).constructionEnd),1)])]),n(e).projectBudget?(i(),r("div",Ft,[qt,t("ul",null,[t("li",null,[y(" Total: "+l(n(e).projectBudget)+" ",1),t("ul",null,[n(e).planningBudget?(i(),r("li",It," Planning: "+l(n(e).planningBudget),1)):_("",!0),n(e).designBudget?(i(),r("li",Rt," Design and Land: "+l(n(e).designBudget),1)):_("",!0),n(e).constructionBudget?(i(),r("li",At," Construction: "+l(n(e).constructionBudget),1)):_("",!0)])])])])):_("",!0)]),t("div",Et,[Mt,t("ul",null,[n(e).descriptionOne?(i(),r("li",Vt,l(n(e).descriptionOne),1)):_("",!0),n(e).descriptionTwo?(i(),r("li",Gt,l(n(e).descriptionTwo),1)):_("",!0)])]),t("div",zt,[t("div",Jt,[Qt,t("ul",null,[n(e).objectiveOne?(i(),r("li",Ht,l(n(e).objectiveOne),1)):_("",!0),n(e).objectiveTwo?(i(),r("li",Kt,l(n(e).objectiveTwo),1)):_("",!0),n(e).objectiveThree?(i(),r("li",Ut,l(n(e).objectiveThree),1)):_("",!0),n(e).objectiveFour?(i(),r("li",Wt,l(n(e).objectiveFour),1)):_("",!0)]),Yt])])]),Xt,Zt,t("div",es,[t("small",ts,[ss,t("strong",null,l(n(e).lastEditedDate.toLocaleDateString()),1)])])])):_("",!0)}}),os=[{name:"Index",path:"/",component:vt,beforeEnter:X},{name:"Show",path:"/:id",component:ns,beforeEnter:Z}],as=de({history:ue(),routes:os});he(Pe).use(as).mount("#app");
